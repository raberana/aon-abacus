<div class="form-container">
    <form [formGroup]="insuranceScheduleForm">
        <div id="field-container">
            <ng-container *ngFor="let field of sectionSchema.fields">
                <div [ngClass]="{'field-hidden': field.dataType == 'hidden'}">
                    <abacus-generic-field [field]="field" [formGroup]="insuranceScheduleForm"></abacus-generic-field>
                    <br />
                </div>
            </ng-container>
        </div>
    </form>
    <br />
    <div>
        <div id="actions-container">
            <button class="button is-dark" [disabled]="!insuranceScheduleForm.valid" (click)="add()">Add record</button>
            <button class="button is-white" (click)="clear()">Clear</button>
            <button class="button done" (click)="done()" *ngIf="metadata && metadata.length > 0">Done</button>
        </div>
    </div>
    <br />
    <br />
    <div>
        <div id="records-container">
            <div class="record" *ngFor="let record of metadata">
                <div class="record-col record-business">
                    <div>{{record.BusinessLineText}}</div>
                    <div *ngIf="record.BrokingCenterText">
                        <span>by</span> {{record.BrokingCenterText}}
                    </div>
                </div>
                <div class="record-col record-premium">
                    <div>{{record.Premium | currency}}</div>
                    <div>Premium Amount (US$)</div>
                </div>
                <div class="record-col record-policy">
                    <div>{{record.PolicyCount}}</div>
                    <div>Number of Policies</div>
                </div>
                <div class="record-col record-rem">
                    <div>{{record.RemunerationTypeText}}</div>
                    <div>Remuneration Type</div>
                </div>
            </div>
        </div>
    </div>
</div>